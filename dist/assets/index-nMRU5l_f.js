(function(){const y=document.createElement("link").relList;if(y&&y.supports&&y.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))S(h);new MutationObserver(h=>{for(const p of h)if(p.type==="childList")for(const L of p.addedNodes)L.tagName==="LINK"&&L.rel==="modulepreload"&&S(L)}).observe(document,{childList:!0,subtree:!0});function P(h){const p={};return h.integrity&&(p.integrity=h.integrity),h.referrerPolicy&&(p.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?p.credentials="include":h.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function S(h){if(h.ep)return;h.ep=!0;const p=P(h);fetch(h.href,p)}})();(function(d){let y,P;function S(){P.frequency.value=0}function h(){y.resume()}const p=1,L=2,Q=4,$=[],w=64,R=64,E=[{id:"U",index:12,physicalButtonPressed:!1,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1},{id:"D",index:13,physicalButtonPressed:!1,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1},{id:"L",index:14,physicalButtonPressed:!1,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1},{id:"R",index:15,physicalButtonPressed:!1,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1},{id:"A",index:0,physicalButtonPressed:!1,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1},{id:"B",index:1,physicalButtonPressed:!1,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1}],d1=()=>{for(const e of E)e.physicalButtonPressed=!1},u1=(e,s)=>s>e.buttons.length-1?null:e.buttons[s],b=[{id:"U",x:13,y:78,width:9,height:9,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1},{id:"D",x:13,y:98,width:9,height:9,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1},{id:"L",x:3,y:88,width:9,height:9,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1},{id:"R",x:23,y:88,width:9,height:9,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1},{id:"A",x:42,y:88,width:12,height:12,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1},{id:"B",x:57,y:79,width:12,height:12,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1}];let D,j,H;const J=new Map,a1=(e,s)=>!![...e.values()].includes(s),c1=e=>q(e.pageX,e.pageY,-1),l1=e=>z(e.pageX,e.pageY,-1),h1=e=>Z(e.pageX,e.pageY,-1),A1=e=>{for(const s of e.changedTouches)q(s.pageX,s.pageY,s.identifier)},f1=e=>{e.preventDefault();for(const s of e.changedTouches)z(s.pageX,s.pageY,s.identifier)},p1=e=>{e.preventDefault();for(const s of e.changedTouches)Z(s.pageX,s.pageY,s.identifier)},q=(e,s,i)=>{const t=e1(e,s),r=s1(t.x,t.y);r==null?J.set(`${i}`,"-"):J.set(`${i}`,r.id)},z=(e,s,i)=>{if(J.get(`${i}`)){const t=e1(e,s),r=s1(t.x,t.y);r==null?J.set(`${i}`,"-"):J.set(`${i}`,r.id)}},Z=(e,s,i)=>J.delete(`${i}`),e1=(e,s)=>{if(screen!=null)return{x:Math.round(((e-D.offsetLeft)/D.clientWidth+.5)*j),y:Math.round(((s-D.offsetTop)/D.clientHeight+.5)*H)}},s1=(e,s)=>{for(let i=0;i<b.length;i++){const t=b[i];if(e>=t.x&&e<=t.x+t.width&&s>=t.y&&s<=t.y+t.height)return t}return null},M=[{id:"U",codes:["ArrowUp","KeyW"],physicalKeyDown:!1,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1},{id:"D",codes:["ArrowDown","KeyS"],physicalKeyDown:!1,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1},{id:"L",codes:["ArrowLeft","KeyA"],physicalKeyDown:!1,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1},{id:"R",codes:["ArrowRight","KeyD"],physicalKeyDown:!1,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1},{id:"A",codes:["KeyZ","Period"],physicalKeyDown:!1,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1},{id:"B",codes:["KeyX","Slash"],physicalKeyDown:!1,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1}],g1=e=>{e.code!=="F1"&&e.code!=="F3"&&e.code!=="F6"&&e.code!=="F7"&&e.code!=="Tab"&&e.code!=="AltLeft"&&e.code!=="AltRight"&&e.code!=="ArrowRight"&&e.code!=="ArrowDown"&&e.code!=="ArrowLeft"&&e.code!=="ArrowUp"||e.preventDefault();const s=t1(e.code);s!=null&&(s.physicalKeyDown=!0)},P1=e=>{const s=t1(e.code);s!=null&&(s.physicalKeyDown=!1)},t1=e=>{for(let s=0;s<M.length;s++){const i=M[s];if(i.codes.includes(e))return i}return null},B=0,_=4096,x=4102,X=4104,W=4104,G=[];function g(e){if(e<0||e>W)throw`Invalid address: peek ${e}`;return G[e]}function v(e,s){if(e<0||e>W)throw`Invalid address: poke ${e}`;G[e]=s}const w1={charWidth:3,charHeight:5,charTrackingDefault:1,charMap:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,0,0,1,0,0,1,0,0,0,0,0,1,0],[1,0,1,1,0,1,0,0,0,0,0,0,0,0,0],[1,0,1,1,1,1,1,0,1,1,1,1,1,0,1],[0,1,0,1,1,1,1,0,0,1,1,1,0,1,0],[1,0,1,0,0,1,0,1,0,1,0,0,1,0,1],[1,1,0,1,1,0,1,1,1,1,0,1,0,1,1],[0,1,0,0,1,0,0,0,0,0,0,0,0,0,0],[0,0,1,0,1,0,0,1,0,0,1,0,0,0,1],[1,0,0,0,1,0,0,1,0,0,1,0,1,0,0],[0,0,0,1,0,1,0,1,0,1,0,1,0,0,0],[0,0,0,0,1,0,1,1,1,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,1,0,0],[0,0,0,0,0,0,1,1,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,1,0],[0,0,1,0,0,1,0,1,0,1,0,0,1,0,0],[1,1,1,1,0,1,1,0,1,1,0,1,1,1,1],[0,1,0,1,1,0,0,1,0,0,1,0,1,1,1],[1,1,1,0,0,1,1,1,1,1,0,0,1,1,1],[1,1,1,0,0,1,0,1,1,0,0,1,1,1,1],[1,0,1,1,0,1,1,1,1,0,0,1,0,0,1],[1,1,1,1,0,0,1,1,1,0,0,1,1,1,1],[1,1,1,1,0,0,1,1,1,1,0,1,1,1,1],[1,1,1,0,0,1,0,0,1,0,0,1,0,0,1],[1,1,1,1,0,1,1,1,1,1,0,1,1,1,1],[1,1,1,1,0,1,1,1,1,0,0,1,1,1,1],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,1,0,0],[0,0,1,0,1,0,1,0,0,0,1,0,0,0,1],[0,0,0,1,1,1,0,0,0,1,1,1,0,0,0],[1,0,0,0,1,0,0,0,1,0,1,0,1,0,0],[1,1,1,0,0,1,0,1,0,0,0,0,0,1,0],[1,1,1,1,0,1,1,0,1,1,0,0,1,1,1],[1,1,1,1,0,1,1,1,1,1,0,1,1,0,1],[1,1,1,1,0,1,1,1,0,1,0,1,1,1,1],[1,1,1,1,0,0,1,0,0,1,0,0,1,1,1],[1,1,0,1,0,1,1,0,1,1,0,1,1,1,0],[1,1,1,1,0,0,1,1,0,1,0,0,1,1,1],[1,1,1,1,0,0,1,1,0,1,0,0,1,0,0],[1,1,1,1,0,0,1,0,1,1,0,1,1,1,1],[1,0,1,1,0,1,1,1,1,1,0,1,1,0,1],[1,1,1,0,1,0,0,1,0,0,1,0,1,1,1],[0,0,1,0,0,1,0,0,1,1,0,1,1,1,1],[1,0,1,1,0,1,1,1,0,1,0,1,1,0,1],[1,0,0,1,0,0,1,0,0,1,0,0,1,1,1],[1,0,1,1,1,1,1,0,1,1,0,1,1,0,1],[1,0,1,1,1,1,1,1,1,1,0,1,1,0,1],[1,1,1,1,0,1,1,0,1,1,0,1,1,1,1],[1,1,1,1,0,1,1,1,1,1,0,0,1,0,0],[1,1,1,1,0,1,1,0,1,1,1,1,0,0,1],[1,1,1,1,0,1,1,1,0,1,0,1,1,0,1],[1,1,1,1,0,0,1,1,1,0,0,1,1,1,1],[1,1,1,0,1,0,0,1,0,0,1,0,0,1,0],[1,0,1,1,0,1,1,0,1,1,0,1,1,1,1],[1,0,1,1,0,1,1,0,1,1,0,1,0,1,0],[1,0,1,1,0,1,1,0,1,1,1,1,1,0,1],[1,0,1,1,0,1,0,1,0,1,0,1,1,0,1],[1,0,1,1,0,1,0,1,0,0,1,0,0,1,0],[1,1,1,0,0,1,0,1,0,1,0,0,1,1,1],[0,1,1,0,1,0,0,1,0,0,1,0,0,1,1],[1,0,0,1,0,0,0,1,0,0,0,1,0,0,1],[1,1,0,0,1,0,0,1,0,0,1,0,1,1,0],[0,1,0,1,0,1,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1],[1,0,0,0,1,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,1,1,1,1,1,1,1],[0,0,0,1,0,0,1,1,1,1,0,1,1,1,1],[0,0,0,0,0,0,1,1,1,1,0,0,1,1,1],[0,0,0,0,0,1,1,1,1,1,0,1,1,1,1],[0,0,0,0,0,0,1,1,0,1,1,0,1,1,1],[0,0,0,0,1,1,0,1,0,1,1,1,0,1,0],[0,0,0,1,1,1,1,1,1,0,0,1,1,1,1],[0,0,0,1,0,0,1,1,1,1,0,1,1,0,1],[0,0,0,0,1,0,0,0,0,0,1,0,0,1,0],[0,0,0,0,1,0,0,0,0,0,1,0,1,1,0],[0,0,0,1,0,0,1,0,1,1,1,0,1,0,1],[0,0,0,0,1,0,0,1,0,0,1,0,0,1,1],[0,0,0,0,0,0,1,1,1,1,1,1,1,0,1],[0,0,0,0,0,0,1,1,1,1,0,1,1,0,1],[0,0,0,0,0,0,1,1,1,1,0,1,1,1,1],[0,0,0,1,1,1,1,0,1,1,1,1,1,0,0],[0,0,0,1,1,1,1,0,1,1,1,1,0,0,1],[0,0,0,0,0,0,1,1,1,1,0,0,1,0,0],[0,0,0,0,0,0,0,1,1,0,1,0,1,1,0],[0,0,0,0,1,0,1,1,1,0,1,0,0,1,1],[0,0,0,0,0,0,1,0,1,1,0,1,1,1,1],[0,0,0,0,0,0,1,0,1,1,0,1,0,1,0],[0,0,0,0,0,0,1,0,1,1,1,1,1,1,1],[0,0,0,0,0,0,1,0,1,0,1,0,1,0,1],[0,0,0,1,0,1,1,1,1,0,0,1,1,1,0],[0,0,0,1,1,1,0,1,0,0,0,1,1,1,0],[0,1,1,0,1,0,1,0,0,0,1,0,0,1,1],[0,1,0,0,1,0,0,1,0,0,1,0,0,1,0],[1,1,0,0,1,0,0,0,1,0,1,0,1,1,0],[0,0,0,0,0,0,0,1,1,1,1,0,0,0,0]]};function K(e,s,i,t){if(e>s){const r=e;e=s,s=r}for(let r=e;r<=s;r++)A(r,i,t)}function A(e,s,i){e<0||e>=w||s<0||s>=R||v(B+(0|e)+(0|s)*w,i)}function m1(e,s,i,t,r){const n=s.charMap[e.charCodeAt(0)-32];for(let o=0;o<s.charWidth;o++)for(let c=0;c<s.charHeight;c++)n[o+c*s.charWidth]===1&&A(i+o,t+c,r)}let m,C,T,I;const F=[60,60,60,60,60],Y=72,k=128,r1=4,i1=4;function n1(e){const s=e-I;if(Math.ceil(s)>1e3/60){F.shift(),F.push(Math.round(1e3/s));const i=Math.round(F.reduce((t,r)=>t+r)/F.length);I=e,v(X,i),function(){for(const t of M)t.pressedPrevious=t.pressedCurrent,t.pressedCurrent=t.physicalKeyDown,t.isPressed=t.pressedCurrent,t.isJustPressed=t.pressedCurrent&&!t.pressedPrevious,t.isJustReleased=!t.pressedCurrent&&t.pressedPrevious}(),function(){const t=navigator.getGamepads()[0];if(t)for(const r of E){const n=u1(t,r.index);n!=null&&(n.pressed?r.physicalButtonPressed=!0:r.physicalButtonPressed=!1)}for(const r of E)r.pressedPrevious=r.pressedCurrent,r.pressedCurrent=r.physicalButtonPressed,r.isPressed=r.pressedCurrent,r.isJustPressed=r.pressedCurrent&&!r.pressedPrevious,r.isJustReleased=!r.pressedCurrent&&r.pressedPrevious}(),function(){for(const t of b)t.pressedPrevious=t.pressedCurrent,t.pressedCurrent=a1(J,t.id),t.isPressed=t.pressedCurrent,t.isJustPressed=t.pressedCurrent&&!t.pressedPrevious,t.isJustReleased=!t.pressedCurrent&&t.pressedPrevious}(),function(){for(let t=0;t<6;t++){let r=0;(M[t].isPressed||E[t].isPressed||b[t].isPressed)&&(r|=p),(M[t].isJustPressed||E[t].isJustPressed||b[t].isJustPressed)&&(r|=L),(M[t].isJustReleased||E[t].isJustReleased||b[t].isJustReleased)&&(r|=Q),v(_+t,r)}}(),function(){const t=g(x),r=g(x+1);t>0&&r>0?function(n){P.frequency.value=n}(t):S(),r>0&&v(x+1,r-1)}(),romLoop(),function(){for(let t=B;t<B+w*R;t++){const r=$[g(t)];T.data[4*t+0]=r.r,T.data[4*t+1]=r.g,T.data[4*t+2]=r.b,T.data[4*t+3]=255}C.putImageData(T,r1,i1)}()}window.requestAnimationFrame(n1)}window.addEventListener("load",function(){(function(){for(let e=0;e<=W;e++)G.push(0)})(),y=new window.AudioContext,P=y.createOscillator(),P.type="square",P.frequency.value=0,P.connect(y.destination),P.start(0),window.addEventListener("mousedown",h),window.addEventListener("touchstart",h),window.addEventListener("keydown",h),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&S()}),document.addEventListener("keydown",g1),document.addEventListener("keyup",P1),function(){const e="-webkit-touch-callout: none; -webkit-tap-highlight-color: #000; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; background: #000; color: #888;",s="position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); background: #000};",i="image-rendering: -moz-crisp-edges; image-rendering: -webkit-optimize-contrast; image-rendering: -o-crisp-edges; image-rendering: pixelated;";document.body.style.cssText=e,m=document.createElement("canvas"),m.width=Y,m.height=k,C=m.getContext("2d",{alpha:!1}),C.imageSmoothingEnabled=!1,m.style.cssText=s+i,C.fillStyle="#ddd",C.fillRect(0,0,Y,k),C.fillStyle="#333",C.fillRect(r1-1,i1-1,w+2,R+2);const t=()=>{const r=innerWidth/innerHeight,n=Y/k,o=r<n,c=o?innerWidth:innerHeight*n,a=o?innerWidth/n:innerHeight;m.style.width=`${c}px`,m.style.height=`${a}px`};window.addEventListener("resize",t),t(),document.body.appendChild(m),T=C.createImageData(w,R)}(),window.addEventListener("gamepaddisconnected",d1),function(e,s,i){D=e,j=s,H=i;const t=D.getContext("2d");t.fillRect(13,78,9,29),t.fillRect(3,88,29,9);const r=new Image;r.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAFAQMAAACU+uVzAAAABlBMVEUAAAAzM2bT8ENbAAAAAXRSTlMAQObYZgAAABtJREFUCNdjePdKj6GjS4PhxDsgvWgRQ9+jdwBZWAlP4hlWSwAAAABJRU5ErkJggg==",r.onload=()=>{t.drawImage(r,6,71)};const n=new Image;n.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAQMAAABsu86kAAAABlBMVEUAAACZADPodVumAAAAAXRSTlMAQObYZgAAABxJREFUCNdj4GdgsD/AUP8AhP5/gCOICFAKqAAAEwUPVSVDKX4AAAAASUVORK5CYII=",n.onload=()=>{t.drawImage(n,42,88),t.drawImage(n,57,79)};const o=new Image;o.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAFAQMAAABYY9+YAAAABlBMVEUAAAAzM2bT8ENbAAAAAXRSTlMAQObYZgAAABFJREFUCNdjSGCYwPABiCcAAA5KAwFW2JXuAAAAAElFTkSuQmCC",o.onload=()=>{t.drawImage(o,46,101)};const c=new Image;c.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAFAQMAAABYY9+YAAAABlBMVEUAAAAzM2bT8ENbAAAAAXRSTlMAQObYZgAAAA1JREFUCNdjeMAwAYIBEsoDwUh7niQAAAAASUVORK5CYII=",c.onload=()=>{t.drawImage(c,61,92)},document.addEventListener("mousedown",c1),document.addEventListener("mousemove",l1),document.addEventListener("mouseup",h1),document.addEventListener("touchstart",A1),document.addEventListener("touchmove",f1,{passive:!1}),document.addEventListener("touchend",p1,{passive:!1})}(m,Y,k),romInit(),function(e){for(let s=0;s<=7;s++){const i=e[s],t=(16711680&i)>>16,r=(65280&i)>>8,n=255&i;$.push({r:t,g:r,b:n})}}(window.romPalette),I=performance.now(),n1(I)}),window.romPalette=[0,255,16711680,16711935,65280,65535,16776960,16777215],d.ADDRESS_AUD=x,d.ADDRESS_BTN=_,d.ADDRESS_FPS=X,d.ADDRESS_GFX=B,d.Anim=class{constructor(e,s,i){this.frames=e,this.frameTicks=s,this.looping=i}getKeyFrame(e){if(this.frames.length===1)return this.frames[0];let s=Math.floor(e/this.frameTicks);return this.looping?s%=this.frames.length:s=Math.min(this.frames.length-1,s),this.frames[s]}isFinished(e){return!this.looping&&e>=this.frames.length*this.frameTicks}},d.BTN_A=4,d.BTN_B=5,d.BTN_D=1,d.BTN_L=2,d.BTN_R=3,d.BTN_U=0,d.COL_BLK=0,d.COL_BLU=1,d.COL_CYN=5,d.COL_GRN=4,d.COL_MAG=3,d.COL_RED=2,d.COL_WHT=7,d.COL_YEL=6,d.GFX_H=R,d.GFX_W=w,d.Rect=class{constructor(e,s,i,t){this.x=e,this.y=s,this.width=i,this.height=t}overlaps(e){return this.x<e.x+e.width&&this.x+this.width>e.x&&this.y<e.y+e.height&&this.y+this.height>e.y}},d.Vec2=class{constructor(e,s){this.x=e,this.y=s}set(e,s){this.x=e,this.y=s}add(e,s){this.x+=e,this.y+=s}scl(e){this.x*=e,this.y*=e}equals(e){return this.x==e.x&&this.y==e.y}},d.beep=function(e,s,i){(g(x+1)<=0||i)&&(v(x,Math.floor(e)),v(x+1,Math.floor(s)))},d.clamp=function(e,s,i){return Math.max(s,Math.min(e,i))},d.clearGfx=function(e){for(let s=B;s<B+w*R;s++)v(s,e>0?e:0)},d.drawCircle=function(e,s,i,t,r){r>=0&&function(n,o,c,a){let u=0,l=c,f=1-c;for(;u<=l;)K(n-u,n+u,o-l,a),K(n-l,n+l,o-u,a),K(n-l,n+l,o+u,a),K(n-u,n+u,o+l,a),f<0?f+=2*u+1:(f+=2*(u-l)+1,l--),u++}(e,s,i,r),function(n,o,c,a){let u=0,l=c,f=1-c;for(;u<=l;)A(n+u,o+l,a),A(n+u,o-l,a),A(n-u,o+l,a),A(n-u,o-l,a),A(n+l,o+u,a),A(n+l,o-u,a),A(n-l,o+u,a),A(n-l,o-u,a),f<0?f+=2*u+1:(f+=2*(u-l)+1,l--),u++}(e,s,i,t)},d.drawImage=function(e,s,i,t,r,n){const o=[...r];if(n){const c=[];for(;o.length;)c.push(o.splice(0,i));if(n.flipX)for(let a=0;a<t;a++)c[a].reverse();n.flipY&&c.reverse();for(let a=0;a<t;a++)for(let u=0;u<i;u++)o[a*i+u]=c[a][u]}for(let c=0;c<t;c++)for(let a=0;a<i;a++){const u=o[a+c*i];u>=0&&A(e+a,s+c,u)}},d.drawLine=function(e,s,i,t,r){e===i?function(n,o,c,a){if(o>c){const u=o;o=c,c=u}for(let u=o;u<=c;u++)A(n,u,a)}(e,s,t,r):s===t?K(e,i,s,r):function(n,o,c,a,u){const l=Math.abs(c-n),f=Math.abs(a-o),y1=n<c?1:-1,v1=o<a?1:-1;let V=l-f;for(A(n,o,u),A(c,a,u);n!==c&&o!==a;){const o1=V<<1;o1>-f&&(V-=f,n+=y1),o1<l&&(V+=l,o+=v1),A(n,o,u)}}(e,s,i,t,r)},d.drawPattern=function(e,s,i,t){for(let r=0;r<i.length;r+=2)A(e+i[r],s+i[r+1],t)},d.drawPixel=A,d.drawRectangle=function(e,s,i,t,r,n){let o=0,c=0,a=0,u=0;i<0?(o=e+i+1,a=e):(o=e,a=e+i-1),t<0?(c=s+t+1,u=s):(c=s,u=s+t-1);for(let l=o;l<=a;l++)for(let f=c;f<=u;f++)l==o||l==a||f==c||f==u?A(l,f,r):n>=0&&A(l,f,n)},d.drawText=function(e,s,i,t,r){const n=r!=null&&r.font?r.font:w1,o=(r==null?void 0:r.tracking)>=0?r.tracking:n.charTrackingDefault;let c=e;for(let a=0;a<i.length;a++)m1(i.charAt(a),n,c,s,t),c+=n.charWidth+o},d.fc64Init=function(e,s,i){window.romInit=e,window.romLoop=s,i&&(window.romPalette=i)},d.getFps=function(){return g(X)},d.getPixel=function(e,s){return e<0||e>=w||s<0||s>=R?-1:g(B+(0|e)+(0|s)*w)},d.isEmptyObject=function(e){return Object.keys(e).length===0&&e.constructor===Object},d.isJustPressed=function(e){return!!(g(_+e)&L)},d.isJustReleased=function(e){return!!(g(_+e)&Q)},d.isPressed=function(e){return!!(g(_+e)&p)},d.peek=g,d.poke=v,d.randomInt=function(e,s){return Math.floor(Math.random()*(s-e+1)+e)},d.swapImageColors=function(e,s,i){if(s.length!=i.length)throw new Error("mismatched old/new list lengths");const t=[...e];for(let r=0;r<s.length;r++)for(let n=0;n<e.length;n++)e[n]===s[r]&&(t[n]=i[r]);return t},d.wrap=function(e,s,i){const t=i-s;return s+((e-s)%t+t)%t}})(window||{});fc64Init(C1,R1);let U=60,O=60,N=4;function C1(){drawPixel(3,3,COL_WHT)}function R1(){isJustPressed(BTN_A)&&N>1&&N--,isJustReleased(BTN_B)&&N<6&&N++,drawPixel(U,O,COL_BLK),isPressed(BTN_U)&&O>0&&O--,isPressed(BTN_D)&&O<GFX_H-1&&O++,isPressed(BTN_L)&&U>0&&U--,isPressed(BTN_R)&&U<GFX_W-1&&U++,drawPixel(U,O,N)}
